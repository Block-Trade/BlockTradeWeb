(this["webpackJsonpblock-trade"]=this["webpackJsonpblock-trade"]||[]).push([[19],{1065:function(e,t,a){"use strict";a.r(t);var n=a(76),r=a(0),o=a.n(r),c=a(39),s=a(19),i=a.n(s),u=a(44),l=a(53),p=a.n(l),d=a(2),f=a(3),m=a(10),v=a.n(m),y=a(13),b=a(37),g=a(273),E=o.a.createContext(null),h=o.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,r=e.variant,c=e.as,s=void 0===c?"img":c,i=Object(f.a)(e,["bsPrefix","className","variant","as"]),u=Object(y.b)(a,"card-img");return o.a.createElement(s,Object(d.a)({ref:t,className:v()(r?u+"-"+r:u,n)},i))}));h.displayName="CardImg",h.defaultProps={variant:null};var O=h,j=Object(g.a)("h5"),C=Object(g.a)("h6"),x=Object(b.a)("card-body"),k=o.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,c=e.bg,s=e.text,i=e.border,u=e.body,l=e.children,p=e.as,m=void 0===p?"div":p,b=Object(f.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),g=Object(y.b)(a,"card"),h=Object(r.useMemo)((function(){return{cardHeaderBsPrefix:g+"-header"}}),[g]);return o.a.createElement(E.Provider,{value:h},o.a.createElement(m,Object(d.a)({ref:t},b,{className:v()(n,g,c&&"bg-"+c,s&&"text-"+s,i&&"border-"+i)}),u?o.a.createElement(x,null,l):l))}));k.displayName="Card",k.defaultProps={body:!1},k.Img=O,k.Title=Object(b.a)("card-title",{Component:j}),k.Subtitle=Object(b.a)("card-subtitle",{Component:C}),k.Body=x,k.Link=Object(b.a)("card-link",{Component:"a"}),k.Text=Object(b.a)("card-text",{Component:"p"}),k.Header=Object(b.a)("card-header"),k.Footer=Object(b.a)("card-footer"),k.ImgOverlay=Object(b.a)("card-img-overlay");var S=k,R=a(281),w=a(627),N=a(651),A=a(845),_=a(842);function T(e){return o.a.createElement(_.a,Object.assign({elevation:6,variant:"filled"},e))}t.default=Object(c.b)((function(e){return{auth:e.auth,kyc:e.kyc}}),{kycDl:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={"Content-Type":"application/json"},t.next=4,p.a.post("/kyc/dl",e,{headers:n});case 4:r=t.sent,console.log(r),"KYC done"===r.data.msg?a({type:"KYC_SUCCESS",payload:r.data.msg}):a({type:"KYC_ERROR",payload:r.data.msg}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},kycPass:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={"Content-Type":"application/json"},t.next=4,p.a.post("/kyc/passport",e,{headers:n});case 4:r=t.sent,console.log(r),"KYC done"===r.data.msg?a({type:"KYC_SUCCESS",payload:r.data.msg}):a({type:"KYC_ERROR",payload:r.data.msg}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},loadUser:N.e,clearError:N.b,clearMsg:N.c})((function(e){var t=e.kycDl,a=e.kycPass,c=e.kyc,s=e.history,i=e.loadUser,u=e.auth,l=u.error,p=u.msg,d=e.clearError,f=e.clearMsg,m=Object(r.useState)(""),v=Object(n.a)(m,2),y=v[0],b=v[1],g=Object(r.useState)(!1),E=Object(n.a)(g,2),h=E[0],O=E[1],j=Object(r.useState)(""),C=Object(n.a)(j,2),x=C[0],k=C[1],N=Object(r.useState)(""),_=Object(n.a)(N,2),D=_[0],P=_[1],I=o.a.useState(!1),U=Object(n.a)(I,2),G=U[0],L=U[1],K=o.a.useState("error"),M=Object(n.a)(K,2),H=M[0],Y=M[1],B=o.a.useState(""),z=Object(n.a)(B,2),V=z[0],F=z[1];Object(r.useEffect)((function(){!0===c.kycStatus&&s.push("/dashboard")}),[s,c.kycStatus]),Object(r.useEffect)((function(){i()}),[]);Object(r.useEffect)((function(){l?(F(l),Y("error"),L(!0),d()):p&&(F("KYC Verified"),Y("success"),L(!0),s.push("/dashboard"),f())}),[l,p]);var J=function(e,t){"clickaway"!==t&&L(!1)};return o.a.createElement("div",{style:{backgroundColor:"#2853C3",textAlign:"center"}},c.msg&&o.a.createElement("p",null,c.msg),o.a.createElement(S,{style:{width:"40rem",margin:"auto"},className:"text-center"},o.a.createElement(S.Img,{variant:"top",src:"/kycPend.gif",alt:"image"}),!h&&o.a.createElement(S.Body,{style:{backgroundColor:"#2853C3"}},o.a.createElement(R.a,{variant:"light outline-dark",size:"lg",onClick:function(e){e.preventDefault(),b("dl"),O(!0)}},"Kyc using DL"),o.a.createElement("hr",{style:{backgroundColor:"white"}}),o.a.createElement(R.a,{variant:"light outline-dark",size:"lg",onClick:function(e){e.preventDefault(),b("pass"),O(!0)}},"Kyc using passport")),h&&o.a.createElement(S.Body,{style:{backgroundColor:"#2853C3"}},o.a.createElement(w.a,{className:"pt-3"},o.a.createElement(w.a.Group,{className:"d-flex search-field"},o.a.createElement("select",{className:"form-control form-control-sm",id:"exampleFormControlSelect2",value:D,onChange:function(e){return P(e.target.value)}},o.a.createElement("option",{value:""},"Country code"),o.a.createElement("option",{value:"AU"},"AU"),o.a.createElement("option",{value:"AG"},"AG"),o.a.createElement("option",{value:"IN"},"IN"),o.a.createElement("option",{value:"BG"},"BG"),o.a.createElement("option",{value:"AS"},"AS"),o.a.createElement("option",{value:"CO"},"CO"),o.a.createElement("option",{value:"CA"},"CA"))),o.a.createElement(w.a.Group,{className:"d-flex search-field"},o.a.createElement(w.a.Control,{type:"text",placeholder:"dl"==y?"Driving License No.":"Passport No.",size:"lg",className:"h-auto",value:x,onChange:function(e){return k(e.target.value)}})),o.a.createElement("div",{className:"mt-3"},o.a.createElement(R.a,{variant:"light",size:"lg",onClick:function(e){(e.preventDefault(),""===D||""===x)?(F("Please fill all the fields"),Y("warning"),L(!0)):"dl"===y?t({dl_no:x,cc:D}):a({passport_no:x,cc:D})}},"Verify"))))),o.a.createElement(A.a,{open:G,autoHideDuration:4e3,onClose:J,anchorOrigin:{vertical:"bottom",horizontal:"left"}},o.a.createElement(T,{onClose:J,severity:H},V)))}))},651:function(e,t,a){"use strict";a.d(t,"g",(function(){return u})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return p})),a.d(t,"f",(function(){return d})),a.d(t,"d",(function(){return f})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return v}));var n=a(19),r=a.n(n),o=a(44),c=a(53),s=a.n(c),i=a(162),u=function(e){var t=e.formData;return function(){var e=Object(o.a)(r.a.mark((function e(a){var n,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={"Content-Type":"application/json"},e.next=4,s.a.post("/signup",t,{headers:n});case 4:o=e.sent,console.log(o.data.message),a({type:"SIGNUP_SUCCESS",payload:o.data.message}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:"SIGNUP_ERROR",payload:e.t0.response.data.msg});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},l=function(e){var t=e.token;return function(){var e=Object(o.a)(r.a.mark((function e(a){var n,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json"},console.log(t),o={token:t},e.prev=3,e.next=6,s.a.post("/activate",o,{headers:n});case 6:c=e.sent,console.log(c.data.msg),a({type:"ACTIVATE_SUCCESS",payload:c.data.msg}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),a({type:"ACTIVATE_ERROR",payload:e.t0.response.data.msg});case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}()},p=function(){return function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Load user"),localStorage.token&&(console.log(localStorage.token),Object(i.a)({token:localStorage.token})),e.prev=2,e.next=5,s.a.get("/login");case 5:a=e.sent,console.log(a),t({type:"USER_LOADED",payload:a.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t({type:"AUTH_ERROR"});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){var t=e.formData,a=e.loadUser;return function(){var e=Object(o.a)(r.a.mark((function e(n){var o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={"Content-Type":"application/json"},e.prev=1,e.next=4,s.a.post("/login",t,{headers:o});case 4:return c=e.sent,console.log(c),n({type:"LOGIN_SUCCESS",payload:c.data}),e.next=9,a();case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0.response.data.msg),n({type:"LOGIN_ERROR",payload:e.t0.response.data.msg});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={"Content-Type":"application/json"},t.prev=1,t.next=4,s.a.post("/companyInfo",e,{headers:n});case 4:o=t.sent,console.log(o),a({type:"COMPANY_INFO_LOADED",payload:o.data}),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},m=function(){return function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_MSG"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(){return function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_ERROR"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},766:function(e,t,a){"use strict";var n=a(2),r=a(645),o=a(631),c=a(0),s=(a(22),a(1006)),i=a(673),u=a(707),l=a(643);function p(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var d={entering:{opacity:1,transform:p(1)},entered:{opacity:1,transform:"none"}},f=c.forwardRef((function(e,t){var a=e.children,f=e.disableStrictModeCompat,m=void 0!==f&&f,v=e.in,y=e.onEnter,b=e.onEntered,g=e.onEntering,E=e.onExit,h=e.onExited,O=e.onExiting,j=e.style,C=e.timeout,x=void 0===C?"auto":C,k=e.TransitionComponent,S=void 0===k?s.a:k,R=Object(o.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),w=c.useRef(),N=c.useRef(),A=Object(i.a)(),_=A.unstable_strictMode&&!m,T=c.useRef(null),D=Object(l.a)(a.ref,t),P=Object(l.a)(_?T:void 0,D),I=function(e){return function(t,a){if(e){var n=_?[T.current,t]:[t,a],o=Object(r.a)(n,2),c=o[0],s=o[1];void 0===s?e(c):e(c,s)}}},U=I(g),G=I((function(e,t){Object(u.b)(e);var a,n=Object(u.a)({style:j,timeout:x},{mode:"enter"}),r=n.duration,o=n.delay;"auto"===x?(a=A.transitions.getAutoHeightDuration(e.clientHeight),N.current=a):a=r,e.style.transition=[A.transitions.create("opacity",{duration:a,delay:o}),A.transitions.create("transform",{duration:.666*a,delay:o})].join(","),y&&y(e,t)})),L=I(b),K=I(O),M=I((function(e){var t,a=Object(u.a)({style:j,timeout:x},{mode:"exit"}),n=a.duration,r=a.delay;"auto"===x?(t=A.transitions.getAutoHeightDuration(e.clientHeight),N.current=t):t=n,e.style.transition=[A.transitions.create("opacity",{duration:t,delay:r}),A.transitions.create("transform",{duration:.666*t,delay:r||.333*t})].join(","),e.style.opacity="0",e.style.transform=p(.75),E&&E(e)})),H=I(h);return c.useEffect((function(){return function(){clearTimeout(w.current)}}),[]),c.createElement(S,Object(n.a)({appear:!0,in:v,nodeRef:_?T:void 0,onEnter:G,onEntered:L,onEntering:U,onExit:M,onExited:H,onExiting:K,addEndListener:function(e,t){var a=_?e:t;"auto"===x&&(w.current=setTimeout(a,N.current||0))},timeout:"auto"===x?null:x},R),(function(e,t){return c.cloneElement(a,Object(n.a)({style:Object(n.a)({opacity:0,transform:p(.75),visibility:"exited"!==e||v?void 0:"hidden"},d[e],j,a.props.style),ref:P},t))}))}));f.muiSupportAuto=!0,t.a=f}}]);
//# sourceMappingURL=19.52bf392d.chunk.js.map